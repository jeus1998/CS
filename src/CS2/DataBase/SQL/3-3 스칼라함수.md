# 스칼라함수 MySQL 기준 

![11.JPG](Image%2F11.JPG)

### CAST & CONVERT

CAST
```SQL
SELECT CUSTOMERAGE, CAST(CUSTOMERAGE as CHAR) 문자열나이 
FROM CUSTOMER;
```

CONVERT
```SQL
SELECT CUSTOMERAGE, CONVERT(CUSTOMERAGE, CHAR)  문자열나이 
FROM CUSTOMER;
```

TYPE CASTING 실패 사례
```SQL
SELECT CUSTOMERAGE, CAST(CUSTOMENAME as INT) 문자열나이 
FROM CUSTOMER;
```
- CUSTOMERNAME -> INT 


### LENGTH & CHAR_LENGTH

LENGTH
- 바이트 단위로 길이를 계산
```sql
SELECT CUSTOMERADDRESS, LENGTH(CUSTOMERADDRESS) '주소 길이'
FROM CUSTOMER;
```

CHAR_LENGTH
- 문자 단위로 길이를 계산
```SQL
SELECT CUSTOMERADDRESS, CHAR_LENGTH(CUSTOMERADDRESS) '주소 길이'
FROM CUSTOMER;
```

정리
- UTF-8과 같은 멀티바이트 인코딩을 사용하는 경우, 이 둘의 결과가 다를 수 있다.
- 한글과 같은 멀티바이트 문자가 포함된 문자열의 길이를 구하려면 CHAR_LENGTH 함수를 사용

### LEFT & RIGHT & SUBSTRING

LEFT
```sql
SELECT CUSTOMERNAME, LEFT(CUSTOMERNAME, 2) 
FROM CUSTOMER;
```
![12.JPG](Image%2F12.JPG)

RIGHT
```sql
SELECT CUSTOMERNAME, RIGHT(CUSTOMERNAME, 2) 
FROM CUSTOMER;
```

SUBSTRING
```sql
SELECT CUSTOMERNAME, SUBSTRING(CUSTOMERNAME, 2,2) 
FROM CUSTOMER;

SELECT CUSTOMERNAME, SUBSTRING(CUSTOMERNAME, 2) 
FROM CUSTOMER;
```
- SQL에서는 INDEX 시작이 1 
- 파라미터가 2개면 BEGIN INDEX ~ BEGIN INDEX + 파라미터 - 1
  - 2, 2 면 INDEX 2,3에 해당하는 값
- 파라미터가 1개면 BEGIN INDEX ~ 끝까지 
  - EX) 'ABCDEF', 2 ➡️'BCDEF' 

### REPLACE

```sql
SELECT CUSTOMERNAME, REPLACE(CUSTOMERNAME, '님', '')
FROM CUSTOMER;
```
![13.JPG](Image%2F13.JPG)

### REPLICATE -> MySQL REPEAT

CUSTOMER ID FORMATTING
- 1:  00001
- 2:  00002
- 13: 00013
```sql
SELECT CUSTOMERID, CONCAT(REPEAT('0', 5-LENGTH(CUSTOMERID)), CUSTOMERID)
FROM CUSTOMER;
```
![14.JPG](Image%2F14.JPG)

